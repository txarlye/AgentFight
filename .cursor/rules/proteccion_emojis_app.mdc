---
description: ProtecciÃ³n de emojis en funciones principales de la aplicaciÃ³n
globs: ["**/settings/**", "**/procesamiento/**", "**/main.py"]
alwaysApply: true
---

# PROTECCIÃ“N DE EMOJIS EN FUNCIONES PRINCIPALES

## ğŸš« PROHIBICIÃ“N ABSOLUTA

**NUNCA, BAJO NINGUNA CIRCUNSTANCIA, DEBO:**

1. **MODIFICAR** emojis en funciones principales de la aplicaciÃ³n
2. **CAMBIAR** prints con emojis en archivos del sistema principal
3. **ALTERAR** mensajes de estado en `settings.py`, `cola_procesamiento_ia.py`, etc.
4. **REEMPLAZAR** emojis por texto plano en funciones core

## ğŸ“ ARCHIVOS PROTEGIDOS

### **Archivos CRÃTICOS que NUNCA modificar:**
- `settings/settings.py` - Mensajes de inicializaciÃ³n
- `procesamiento/Agentes/cola_procesamiento_ia.py` - Mensajes de estado
- `procesamiento/utilidades/escritor_archivos.py` - Mensajes de thread
- `main.py` - Mensajes principales
- Cualquier archivo en `procesamiento/` con mensajes de estado

### **Emojis que FUNCIONAN en la app principal:**
- âœ… `\u2705` - Check mark
- âš ï¸ `\u26a0\ufe0f` - Warning sign
- ğŸ”„ `\u1f504` - Counterclockwise arrows
- ğŸ“ `\u1f4c1` - File folder
- ğŸ§µ `\u1f9f5` - Thread
- ğŸ“ `\u1f4dd` - Memo
- ğŸ¯ `\u1f3af` - Direct hit
- ğŸ’¾ `\u1f4be` - Floppy disk

## âš ï¸ PROBLEMA DE ENTORNO

### **El problema NO es el cÃ³digo:**
- Los emojis funcionan perfectamente en la app principal
- El problema es el entorno de testing (Windows PowerShell)
- La app principal usa un entorno diferente (iaBoa_gpu)

### **SoluciÃ³n correcta:**
- **NO modificar** el cÃ³digo de la app
- **Usar** el entorno correcto (iaBoa_gpu) para testing
- **Avisar** al usuario si no se puede ejecutar en el entorno actual

## ğŸ¯ REGLAS DE TESTING

### âœ… **SÃ HACER:**
- Crear tests que usen las mismas dependencias que la app
- Usar spaCy, transformers, etc. si la app los usa
- Ejecutar en el entorno correcto (iaBoa_gpu)
- Avisar si no se puede ejecutar en el entorno actual

### âŒ **NO HACER:**
- Crear tests "sin dependencias" que no prueben la funcionalidad real
- Modificar emojis en funciones principales
- Cambiar mensajes de estado del sistema
- Inventar alternativas que no prueben el flujo real

## ğŸ”§ PROTOCOLO DE TESTING

### **Antes de crear un test:**
1. **Verificar** que las dependencias estÃ¡n disponibles
2. **Usar** el entorno correcto (iaBoa_gpu)
3. **Si no se puede ejecutar** â†’ Avisar al usuario
4. **NO crear** versiones "sin dependencias"

### **Mensaje de aviso estÃ¡ndar:**
```
âš ï¸ DEPENDENCIA NO DISPONIBLE

Test: [nombre_del_test]
Dependencia: [spacy, transformers, etc.]
Entorno requerido: iaBoa_gpu
AcciÃ³n: El usuario debe ejecutar el test en el entorno correcto

Â¿Ejecutar en iaBoa_gpu? (SÃ­/No)
```

## ğŸ“‹ CHECKLIST DE PROTECCIÃ“N

### **Antes de modificar cualquier archivo:**
- [ ] Â¿Es un archivo principal del sistema?
- [ ] Â¿Contiene emojis que funcionan en la app?
- [ ] Â¿Es parte del core de la aplicaciÃ³n?
- [ ] Â¿Se puede evitar la modificaciÃ³n?

### **Si es necesario modificar:**
- [ ] Â¿Es solo para testing temporal?
- [ ] Â¿Se puede revertir fÃ¡cilmente?
- [ ] Â¿No afecta la funcionalidad principal?

## ğŸš€ COMANDOS ÃšTILES

### **Verificar emojis en archivos:**
```bash
# Buscar emojis en archivos principales
grep -r "\\u[0-9a-fA-F]" settings/ procesamiento/ main.py
```

### **Revertir cambios de emojis:**
```bash
# Revertir cambios en archivos especÃ­ficos
git checkout -- settings/settings.py
git checkout -- procesamiento/Agentes/cola_procesamiento_ia.py
```

## ğŸ¯ PRINCIPIOS FUNDAMENTALES

### **1. La app principal es SAGRADA:**
- No modificar emojis que funcionan
- No alterar mensajes de estado
- No cambiar funcionalidad core

### **2. Testing real:**
- Usar las mismas dependencias
- Ejecutar en el entorno correcto
- Probar la funcionalidad real

### **3. ComunicaciÃ³n clara:**
- Avisar si no se puede ejecutar
- Explicar el problema del entorno
- Pedir al usuario que ejecute en iaBoa_gpu

---

**Esta regla protege la integridad de la aplicaciÃ³n principal y garantiza testing real.**